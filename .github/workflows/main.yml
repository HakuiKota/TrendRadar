name: 每日9点Bark定时推送（最终可用版）
on:
  # 每日北京时间9点自动执行（UTC时间1点）
  schedule:
    - cron: '0 1 * * *'
  # 手动触发测试（点击Run workflow立即执行）
  workflow_dispatch:

jobs:
  send-daily-notification:
    runs-on: ubuntu-latest
    steps:
      - name: 执行推送任务
        run: |
          # 替换下方"你的Bark设备码"为实际码（例：https://api.day.app/abc123/通知 → 设备码是abc123）
          BARK_DEVICE_KEY="JrnUHe8VTuiWWj7TqdYgvg"
          # 推送内容（可自定义文字，保留英文引号）
          NOTIFICATION_CONTENT="每日9点定时任务执行完成"
          # 稳定推送命令（用GET请求，比POST更可靠）
          curl "https://api.day.app/$BARK_DEVICE_KEY/$NOTIFICATION_CONTENT"
